<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Calculate cumulative proximity to features for geographic areas — get_proximity • hazprox</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate cumulative proximity to features for geographic areas — get_proximity"><meta name="description" content="This function calculates the sum of inverse distances between the geometric center
of the from area and all to features within a specified tolerance."><meta property="og:description" content="This function calculates the sum of inverse distances between the geometric center
of the from area and all to features within a specified tolerance."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">hazprox</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/calc-proximity-to-hazards.html">Calculate proximity</a></li>
    <li><a class="dropdown-item" href="../articles/avg-proximity-by-county.html">Find average proximity for counties</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Calculate cumulative proximity to features for geographic areas</h1>

      <div class="d-none name"><code>get_proximity.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function calculates the sum of inverse distances between the geometric center
of the <code>from</code> area and all <code>to</code> features within a specified tolerance.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_proximity</span><span class="op">(</span><span class="va">from</span>, <span class="va">to</span>, tolerance <span class="op">=</span> <span class="cn">NULL</span>, units <span class="op">=</span> <span class="st">"km"</span>, weights <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-from">from<a class="anchor" aria-label="anchor" href="#arg-from"></a></dt>
<dd><p>polygon or multipolygon object with class sf or sfc.</p></dd>


<dt id="arg-to">to<a class="anchor" aria-label="anchor" href="#arg-to"></a></dt>
<dd><p>object of any geometry type (point, polygon, linestring, geometry collection) with class sf or sfc.</p></dd>


<dt id="arg-tolerance">tolerance<a class="anchor" aria-label="anchor" href="#arg-tolerance"></a></dt>
<dd><p>The maximum search distance for <code>to</code> features (optional).</p></dd>


<dt id="arg-units">units<a class="anchor" aria-label="anchor" href="#arg-units"></a></dt>
<dd><p>The units of the tolerance value (e.g., "m", "km", "ft", "yd", "fathom", "mi", "naut_mi", "au"),
if tolerance is specified. Ignored if tolerance is omitted.</p></dd>


<dt id="arg-weights">weights<a class="anchor" aria-label="anchor" href="#arg-weights"></a></dt>
<dd><p>An optional numeric vector with the same length as <code>to</code> that applies a weight to each <code>to</code> feature.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A numeric vector with the same length as <code>from</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>get_proximity calculates proximity statistics for each polygon in <code>from</code> based on the cumulative inverse distance
between the geometric center of <code>from</code> and each feature in <code>to</code>, typically representing environmental hazard(s)
of interest or concern. If a tolerance value is provided, only hazards within the tolerance distance will be included
in proximity calculations. For polygons that do not have any hazards within the specified tolerance, proximity will only
consider the single nearest distance.</p>
<p>Users may also weight the proximity calculations based on the expected risk or severity of each hazard in <code>to</code> by
providing a vector of weights corresponding to each hazard.</p>
<p>In cases where the distance between the polygon centroid in <code>from</code> and a <code>to</code> feature is less than the block area
equivalent radius, distance is calculated as 90% of the block area equivalent radius. This adjustment reduces the
influence of features that happen to be located near the polygon centroid.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">w</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">floor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">npls</span><span class="op">)</span>, min<span class="op">=</span><span class="fl">0</span>, max<span class="op">=</span><span class="fl">10</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">#calculate proximity to all superfund sites</span></span></span>
<span class="r-in"><span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu">get_proximity</span><span class="op">(</span>from<span class="op">=</span><span class="va">ga</span>, to<span class="op">=</span><span class="va">npls</span>, weights <span class="op">=</span> <span class="va">w</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ga</span><span class="op">$</span><span class="va">Proximity</span> <span class="op">&lt;-</span> <span class="va">p</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">ga</span><span class="op">[</span><span class="st">'Proximity'</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="get_proximity-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co">#calculate proximity to superfund sites within 10 miles of tract boundary</span></span></span>
<span class="r-in"><span><span class="va">p10</span> <span class="op">&lt;-</span> <span class="fu">get_proximity</span><span class="op">(</span>from<span class="op">=</span><span class="va">ga</span>, to<span class="op">=</span><span class="va">npls</span>, tolerance <span class="op">=</span> <span class="fl">10</span>, units <span class="op">=</span> <span class="st">'mi'</span>, weights <span class="op">=</span> <span class="va">w</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sarah Rockhill.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

